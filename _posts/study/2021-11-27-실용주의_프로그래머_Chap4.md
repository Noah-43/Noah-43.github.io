---
title: 실용주의_프로그래머_Chap4(-ing)
excerpt: 실용주의 프로그래머 책 4장 정리
categories: study
---

# 4장. 실용주의 편집증

## 21. 계약에 의한 설계

계약은 사람들이 서로 소통하는 것을 돕기 위해 격식적으로나 비격식적으로 전 세계에 걸쳐 사용되는 아이디어다. 소프트웨어 묘듈이 서로 소통하는 것을 돕기 위해 동일하게 개념을 적용할 수 있다. 정확한 프로그램이란, 스스로 자신이 하는 일이라고 주장하는 것 만큼만 일을 하는 프로그램이다. 이 주장을 문서화하고 검증하는 것이 계약에 의한 설계(Design By Contract, DBC)의 핵심이다. DBC는 다음의 내용을 포함한다.

- 선행조건: 루틴이 호출되기 위해 참이어야 하는 것.
- 후행조건: 루틴이 자기가 할 것이라고 보장하는 것.
- 클래스 불변식: 호출자의 입장에서 볼 때, 이 조건이 언제나 참이라는 것을 클래스가 보장.

DBC를 사용하는 최고의 장점은 요구사항과 보증의 문제를 전면으로 내세운다는 것이다. 입력 도메인 범위, 경계 조건, 루틴의 동작 등을 설계 시기에 나열하는 것만으로도 더 나은 소프트웨어 작성에 도움이 된다. DBC는 결국 설계 기법이다. DBC를 지원하지 않는 언어에서 자동 검사가 없더라도 계약을 코드에 주석으로 넣어두고 참고할 수 있다.

문제를 찾고 원인을 밝히기 위해서는, 사고가 났을 때 일찍 멈추는 것이 유리하다. DBC를 사용하면 계약을 지키지 못해 실패했을 때, 에러 메시지와 함께 호출 체인을 보여주는 스택 트레이스가 출력되어 유용하다.



